<header class="sticky top-0 z-50 bg-[#F5F5F0] shadow-md">
    <div class="container mx-auto flex justify-between items-center py-4">
        <a href="{{ path('app') }}" class="flex items-center">
            <div>
                <img src="{{ asset('template-html/assets/images/logosvg.svg') }}" alt="Logo" class="h-14 w-auto mr-4">
            </div>
        </a>
        <div class="flex lg:hidden">
            <button id="hamburger" class="text-black focus:outline-none">
                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </div>
        <nav class="hidden lg:flex md:flex-grow justify-center">
            <ul class="flex justify-center space-x-4 text-black">
                <li><a href="{{ path('app') }}" class="hover:text-gray-600 font-playfair font-bold block py-2">Accueil</a></li>
                <li><a href="{{ path('app_collections') }}" class="hover:text-gray-600 font-playfair font-bold block py-2">Nos Véhicules</a></li>
                
                {% if app.user %}
                    {% if is_granted('ROLE_ADMIN') %}
                        <li><a href="{{ path('admin_dashboard') }}" class="hover:text-gray-600 font-playfair font-bold block py-2">Dashboard Admin</a></li>
                    {% endif %}
                     <li><a href="{{ path('app_all_reservation', {'clientId':app.user.id}) }}" class="hover:text-gray-600 font-playfair font-bold block py-2">Vos Réservations</a></li>
                    <li><a href="{{ path('app_favorite_show') }}" class="hover:text-gray-600 font-playfair font-bold block py-2">Vos favoris</a></li>
                    <li><a href="{{ path('app_invoice', {'clientId':app.user.id}) }}" class="hover:text-gray-600 font-playfair font-bold block py-2">Vos Factures</a></li>
                    <li class="relative">
                        <a href="{{ path('app_notifications') }}" class="hover:text-gray-600 font-playfair font-bold block py-2 relative">
                            <span class="relative inline-block">
                                Notifications
                                {% if unread_notifications_count > 0 %}
                                    <span class="absolute -top-2 -right-2 flex items-center justify-center w-5 h-5 text-xs text-white bg-red-500 rounded-full animate-pulse" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; line-height: 1; font-weight: 500;">
                                        {{ unread_notifications_count }}
                                    </span>
                                {% endif %}
                            </span>
                        </a>
                    </li>
                {% endif %}
                <li>
                    <a href="{{ path('app_contact') }}" class="hover:text-gray-600 font-playfair font-bold block py-2">Contact</a>
                </li>
            </ul>
        </nav>
        <div class="hidden lg:flex items-center space-x-4 relative">
            {% if app.user %}
                <a href="{{ path('app_profile') }}" class="bg-[#F5F5F0] border border-black hover:bg-gray-200 text-black font-playfair font-semibold px-4 py-2 rounded-full">
                    <i class="fas fa-user mr-2"></i>{{ app.user.firstName }}
                </a>
                <a href="{{ path('app_logout') }}" class="bg-[#F5F5F0] border border-black hover:bg-gray-200 text-black font-playfair font-semibold px-4 py-2 rounded-full">
                    <i class="fas fa-sign-out-alt mr-2"></i>Déconnexion
                </a>
            {% else %}
                <a href="{{ path('app_register') }}" class="bg-[#F5F5F0] border border-black hover:bg-gray-200 text-black font-playfair font-semibold px-4 py-2 rounded-full inline-block">Inscription</a>
                <a href="{{ path('app_login') }}" class="bg-[#F5F5F0] border border-black hover:bg-gray-200 text-black font-playfair font-semibold px-4 py-2 rounded-full inline-block">Connexion</a>
            {% endif %}
        </div>
    </div>
</header>

<!-- Menu mobile -->
<nav id="mobile-menu-placeholder" class="mobile-menu hidden lg:hidden bg-[#F5F5F0] border-t border-gray-200">
    <ul class="w-full text-center space-y-4 py-4">
        <li><a href="{{ path('app') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Accueil</a></li>
        <li><a href="{{ path('app_collections') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Nos Véhicules</a></li>
        
        {% if app.user %}
            {% if is_granted('ROLE_ADMIN') %}
                <li><a href="{{ path('admin_dashboard') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Dashboard Admin</a></li>
            {% endif %}
            
            <li><a href="{{ path('app_favorite_show') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Vos favoris</a></li>
            <li>
                <a href="{{ path('app_notifications') }}" class="block py-2 text-black hover:text-gray-600 font-playfair relative">
                    <span class="relative inline-block">
                        Notifications
                        {% if unread_notifications_count > 0 %}
                            <span class="absolute -top-2 -right-2 flex items-center justify-center w-5 h-5 text-xs text-white bg-red-500 rounded-full animate-pulse" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; line-height: 1; font-weight: 500;">
                                {{ unread_notifications_count }}
                            </span>
                        {% endif %}
                    </span>
                </a>
            </li>
            <li><a href="{{ path('app_profile') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Profil</a></li>
            <li><a href="{{ path('app_logout') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Déconnexion</a></li>
        {% else %}
            <li><a href="{{ path('app_register') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Inscription</a></li>
            <li><a href="{{ path('app_login') }}" class="block py-2 text-black hover:text-gray-600 font-playfair">Connexion</a></li>
        {% endif %}
        <li>
            <a href="{{ path('app_contact') }}" class="text-gray-600 hover:text-primary">Contact</a>
        </li>
    </ul>
</nav>